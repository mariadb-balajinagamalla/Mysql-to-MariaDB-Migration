2026-01-14T19:42:04.782221+00:00 START mode=run config=config/migration.yaml
2026-01-14T19:42:04.786509+00:00 RUN  precheck (Precheck source variables and blockers) -> scripts/00_precheck.sh
2026-01-14T19:42:04.786619+00:00 CMD /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/scripts/00_precheck.sh
2026-01-14T19:42:04.806451+00:00 OUT == Precheck runner ==
2026-01-14T19:42:04.807801+00:00 OUT Host: 127.0.0.1  Port: 13306  User: root
2026-01-14T19:42:04.809161+00:00 OUT Checks dir: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/sql/checks
2026-01-14T19:42:04.810550+00:00 OUT Outdir: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/artifacts/precheck
2026-01-14T19:42:04.811887+00:00 OUT 
2026-01-14T19:42:04.815352+00:00 OUT ---- mysql_version ----
2026-01-14T19:42:05.081937+00:00 OUT 8.0.44
2026-01-14T19:42:05.089791+00:00 OUT 
2026-01-14T19:42:05.095301+00:00 OUT ---- innodb_settings ----
2026-01-14T19:42:05.292435+00:00 OUT 1	0
2026-01-14T19:42:05.300113+00:00 OUT 
2026-01-14T19:42:05.306033+00:00 OUT ---- auth_plugins ----
2026-01-14T19:42:05.497240+00:00 OUT analytics	10.%	caching_sha2_password
2026-01-14T19:42:05.497568+00:00 OUT app_ro	%	caching_sha2_password
2026-01-14T19:42:05.497639+00:00 OUT app_rw	%	caching_sha2_password
2026-01-14T19:42:05.497704+00:00 OUT root	localhost	caching_sha2_password
2026-01-14T19:42:05.504801+00:00 OUT 
2026-01-14T19:42:05.510810+00:00 OUT ---- json_columns ----
2026-01-14T19:42:05.775723+00:00 OUT appdb	big_orders	payload	json
2026-01-14T19:42:05.775935+00:00 OUT json_poc	json_test	payload	json
2026-01-14T19:42:05.783124+00:00 OUT 
2026-01-14T19:42:05.788722+00:00 OUT ---- compression_encryption ----
2026-01-14T19:42:05.990464+00:00 OUT (no rows)
2026-01-14T19:42:05.994490+00:00 OUT 
2026-01-14T19:42:06.001589+00:00 OUT ---- engines_summary ----
2026-01-14T19:42:06.288991+00:00 OUT PERFORMANCE_SCHEMA	111
2026-01-14T19:42:06.289196+00:00 OUT InnoDB	58
2026-01-14T19:42:06.289275+00:00 OUT CSV	2
2026-01-14T19:42:06.296383+00:00 OUT 
2026-01-14T19:42:06.302558+00:00 OUT ---- schema_sizes ----
2026-01-14T19:42:06.499671+00:00 OUT appdb	6367.56
2026-01-14T19:42:06.499818+00:00 OUT sakila	6.45
2026-01-14T19:42:06.499890+00:00 OUT mysql	2.66
2026-01-14T19:42:06.499960+00:00 OUT json_poc	0.02
2026-01-14T19:42:06.500014+00:00 OUT sys	0.02
2026-01-14T19:42:06.500066+00:00 OUT information_schema	0.00
2026-01-14T19:42:06.500116+00:00 OUT performance_schema	0.00
2026-01-14T19:42:06.506672+00:00 OUT 
2026-01-14T19:42:06.512212+00:00 OUT ---- schema_charsets ----
2026-01-14T19:42:06.794003+00:00 OUT appdb	utf8mb4	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.794259+00:00 OUT json_poc	utf8mb4	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.794320+00:00 OUT sakila	utf8mb4	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.801165+00:00 OUT 
2026-01-14T19:42:06.806610+00:00 OUT ---- mysql8_collations ----
2026-01-14T19:42:06.996986+00:00 OUT appdb	big_orders	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997121+00:00 OUT appdb	customers	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997182+00:00 OUT appdb	orders	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997241+00:00 OUT appdb	seq_1M	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997292+00:00 OUT json_poc	json_test	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997343+00:00 OUT sakila	actor	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997391+00:00 OUT sakila	address	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997439+00:00 OUT sakila	category	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997502+00:00 OUT sakila	city	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997549+00:00 OUT sakila	country	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997597+00:00 OUT sakila	customer	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997644+00:00 OUT sakila	film	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997721+00:00 OUT sakila	film_actor	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997767+00:00 OUT sakila	film_category	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997818+00:00 OUT sakila	film_text	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997863+00:00 OUT sakila	inventory	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997910+00:00 OUT sakila	language	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.997996+00:00 OUT sakila	payment	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.998051+00:00 OUT sakila	rental	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.998103+00:00 OUT sakila	staff	utf8mb4_0900_ai_ci
2026-01-14T19:42:06.998168+00:00 OUT sakila	store	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.003950+00:00 OUT 
2026-01-14T19:42:07.009489+00:00 OUT ---- mysql8_column_collations ----
2026-01-14T19:42:07.310312+00:00 OUT appdb	big_orders	filler	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.310680+00:00 OUT appdb	customers	email	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.310823+00:00 OUT appdb	customers	name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.310935+00:00 OUT appdb	orders	status	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311026+00:00 OUT sakila	actor	first_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311112+00:00 OUT sakila	actor	last_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311421+00:00 OUT sakila	actor_info	film_info	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311707+00:00 OUT sakila	actor_info	first_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311836+00:00 OUT sakila	actor_info	last_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.311942+00:00 OUT sakila	address	address	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312025+00:00 OUT sakila	address	address2	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312195+00:00 OUT sakila	address	district	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312288+00:00 OUT sakila	address	phone	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312513+00:00 OUT sakila	address	postal_code	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312595+00:00 OUT sakila	category	name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312673+00:00 OUT sakila	city	city	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312776+00:00 OUT sakila	country	country	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.312842+00:00 OUT sakila	customer	email	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.316767+00:00 OUT sakila	customer	first_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.316847+00:00 OUT sakila	customer	last_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.316896+00:00 OUT sakila	customer_list	address	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.316983+00:00 OUT sakila	customer_list	city	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317038+00:00 OUT sakila	customer_list	country	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317124+00:00 OUT sakila	customer_list	name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317211+00:00 OUT sakila	customer_list	notes	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317278+00:00 OUT sakila	customer_list	phone	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317325+00:00 OUT sakila	customer_list	zip code	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317377+00:00 OUT sakila	film	description	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317423+00:00 OUT sakila	film	rating	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317468+00:00 OUT sakila	film	special_features	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317514+00:00 OUT sakila	film	title	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317559+00:00 OUT sakila	film_list	actors	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317605+00:00 OUT sakila	film_list	category	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317650+00:00 OUT sakila	film_list	description	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317694+00:00 OUT sakila	film_list	rating	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317755+00:00 OUT sakila	film_list	title	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317811+00:00 OUT sakila	film_text	description	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317857+00:00 OUT sakila	film_text	title	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317904+00:00 OUT sakila	language	name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.317949+00:00 OUT sakila	nicer_but_slower_film_list	actors	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318000+00:00 OUT sakila	nicer_but_slower_film_list	category	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318057+00:00 OUT sakila	nicer_but_slower_film_list	description	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318103+00:00 OUT sakila	nicer_but_slower_film_list	rating	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318162+00:00 OUT sakila	nicer_but_slower_film_list	title	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318244+00:00 OUT sakila	sales_by_film_category	category	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318501+00:00 OUT sakila	sales_by_store	manager	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318562+00:00 OUT sakila	sales_by_store	store	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318623+00:00 OUT sakila	staff	email	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318674+00:00 OUT sakila	staff	first_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318727+00:00 OUT sakila	staff	last_name	utf8mb4_0900_ai_ci
2026-01-14T19:42:07.318794+00:00 OUT ... (truncated; full output in /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/artifacts/precheck/mysql8_column_collations.tsv)
2026-01-14T19:42:07.321227+00:00 OUT 
2026-01-14T19:42:07.326965+00:00 OUT ---- sql_mode ----
2026-01-14T19:42:07.522534+00:00 OUT ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
2026-01-14T19:42:07.530209+00:00 OUT 
2026-01-14T19:42:07.535983+00:00 OUT ---- definers_inventory ----
2026-01-14T19:42:07.814789+00:00 OUT ROUTINE	root@localhost	7
2026-01-14T19:42:07.815088+00:00 OUT TRIGGER	root@localhost	6
2026-01-14T19:42:07.815184+00:00 OUT VIEW	root@localhost	7
2026-01-14T19:42:07.822376+00:00 OUT 
2026-01-14T19:42:07.828132+00:00 OUT ---- partitioned_tables ----
2026-01-14T19:42:08.021993+00:00 OUT (no rows)
2026-01-14T19:42:08.025598+00:00 OUT 
2026-01-14T19:42:08.032561+00:00 OUT ---- active_plugins ----
2026-01-14T19:42:08.302674+00:00 OUT ARCHIVE	ACTIVE
2026-01-14T19:42:08.302839+00:00 OUT binlog	ACTIVE
2026-01-14T19:42:08.302893+00:00 OUT BLACKHOLE	ACTIVE
2026-01-14T19:42:08.302946+00:00 OUT caching_sha2_password	ACTIVE
2026-01-14T19:42:08.302992+00:00 OUT CSV	ACTIVE
2026-01-14T19:42:08.303028+00:00 OUT daemon_keyring_proxy_plugin	ACTIVE
2026-01-14T19:42:08.303063+00:00 OUT InnoDB	ACTIVE
2026-01-14T19:42:08.303097+00:00 OUT INNODB_BUFFER_PAGE	ACTIVE
2026-01-14T19:42:08.303130+00:00 OUT INNODB_BUFFER_PAGE_LRU	ACTIVE
2026-01-14T19:42:08.303168+00:00 OUT INNODB_BUFFER_POOL_STATS	ACTIVE
2026-01-14T19:42:08.303206+00:00 OUT INNODB_CACHED_INDEXES	ACTIVE
2026-01-14T19:42:08.303250+00:00 OUT INNODB_CMP	ACTIVE
2026-01-14T19:42:08.303287+00:00 OUT INNODB_CMPMEM	ACTIVE
2026-01-14T19:42:08.303322+00:00 OUT INNODB_CMPMEM_RESET	ACTIVE
2026-01-14T19:42:08.303354+00:00 OUT INNODB_CMP_PER_INDEX	ACTIVE
2026-01-14T19:42:08.303387+00:00 OUT INNODB_CMP_PER_INDEX_RESET	ACTIVE
2026-01-14T19:42:08.303417+00:00 OUT INNODB_CMP_RESET	ACTIVE
2026-01-14T19:42:08.303454+00:00 OUT INNODB_COLUMNS	ACTIVE
2026-01-14T19:42:08.303491+00:00 OUT INNODB_FT_BEING_DELETED	ACTIVE
2026-01-14T19:42:08.303526+00:00 OUT INNODB_FT_CONFIG	ACTIVE
2026-01-14T19:42:08.303562+00:00 OUT INNODB_FT_DEFAULT_STOPWORD	ACTIVE
2026-01-14T19:42:08.303597+00:00 OUT INNODB_FT_DELETED	ACTIVE
2026-01-14T19:42:08.303634+00:00 OUT INNODB_FT_INDEX_CACHE	ACTIVE
2026-01-14T19:42:08.303671+00:00 OUT INNODB_FT_INDEX_TABLE	ACTIVE
2026-01-14T19:42:08.303707+00:00 OUT INNODB_INDEXES	ACTIVE
2026-01-14T19:42:08.303739+00:00 OUT INNODB_METRICS	ACTIVE
2026-01-14T19:42:08.303772+00:00 OUT INNODB_SESSION_TEMP_TABLESPACES	ACTIVE
2026-01-14T19:42:08.303809+00:00 OUT INNODB_TABLES	ACTIVE
2026-01-14T19:42:08.303842+00:00 OUT INNODB_TABLESPACES	ACTIVE
2026-01-14T19:42:08.303877+00:00 OUT INNODB_TABLESTATS	ACTIVE
2026-01-14T19:42:08.303913+00:00 OUT INNODB_TEMP_TABLE_INFO	ACTIVE
2026-01-14T19:42:08.303948+00:00 OUT INNODB_TRX	ACTIVE
2026-01-14T19:42:08.303980+00:00 OUT INNODB_VIRTUAL	ACTIVE
2026-01-14T19:42:08.304021+00:00 OUT MEMORY	ACTIVE
2026-01-14T19:42:08.304059+00:00 OUT MRG_MYISAM	ACTIVE
2026-01-14T19:42:08.304095+00:00 OUT MyISAM	ACTIVE
2026-01-14T19:42:08.304132+00:00 OUT mysqlx	ACTIVE
2026-01-14T19:42:08.304168+00:00 OUT mysqlx_cache_cleaner	ACTIVE
2026-01-14T19:42:08.304205+00:00 OUT mysql_native_password	ACTIVE
2026-01-14T19:42:08.304241+00:00 OUT ngram	ACTIVE
2026-01-14T19:42:08.304277+00:00 OUT PERFORMANCE_SCHEMA	ACTIVE
2026-01-14T19:42:08.304320+00:00 OUT sha256_password	ACTIVE
2026-01-14T19:42:08.304354+00:00 OUT sha2_cache_cleaner	ACTIVE
2026-01-14T19:42:08.304392+00:00 OUT TempTable	ACTIVE
2026-01-14T19:42:08.306787+00:00 OUT 
2026-01-14T19:42:08.311762+00:00 OUT Precheck complete.
2026-01-14T19:42:08.313364+00:00 OUT TSV outputs: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/artifacts/precheck/*.tsv
2026-01-14T19:42:08.314676+00:00 RUN  prepare_mysql (Set innodb_fast_shutdown=0 before shutdown) -> scripts/01_prepare_mysql.sh
2026-01-14T19:42:08.314991+00:00 CMD /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/scripts/01_prepare_mysql.sh
2026-01-14T19:42:08.320998+00:00 OUT Setting innodb_fast_shutdown=0 (required before major upgrade)
2026-01-14T19:42:08.494890+00:00 OUT Done.
2026-01-14T19:42:08.496212+00:00 RUN  backup_mysql_system_db (Backup mysql system database) -> scripts/02_backup_mysql_system_db.sh
2026-01-14T19:42:08.496455+00:00 CMD /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/scripts/02_backup_mysql_system_db.sh
2026-01-14T19:42:08.511148+00:00 OUT Dumping mysql system database from 127.0.0.1:13306 ...
2026-01-14T19:42:29.559374+00:00 OUT Wrote: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/artifacts/backup/mysql-system-db.sql
2026-01-14T19:42:29.561939+00:00 RUN  generate_fix_sql (Generate SQL fixes (auth/json/collations) (optional)) -> scripts/03_generate_fix_sql.sh
2026-01-14T19:42:29.562508+00:00 CMD /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/scripts/03_generate_fix_sql.sh
2026-01-14T19:42:29.583677+00:00 OUT == Generating user plugin fix SQL ==
2026-01-14T19:42:29.861520+00:00 OUT Wrote: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/outputs/fix_users_to_native_password.sql
2026-01-14T19:42:29.862709+00:00 OUT NOTE: Replace <SET_PASSWORD_HERE> manually or wire from secrets.
2026-01-14T19:42:29.863057+00:00 OUT 
2026-01-14T19:42:29.863263+00:00 OUT == Generating JSON-to-LONGTEXT conversion SQL (optional) ==
2026-01-14T19:42:30.057276+00:00 OUT Wrote: /Users/balajin/Documents/GitHub/Mysql-to-MariaDB-Migration/outputs/fix_json_to_longtext.sql
2026-01-14T19:42:30.057913+00:00 OUT Only apply if you truly need TEXT storage for compatibility.
2026-01-14T19:42:30.059708+00:00 FINISH success=True message=Run completed successfully.
