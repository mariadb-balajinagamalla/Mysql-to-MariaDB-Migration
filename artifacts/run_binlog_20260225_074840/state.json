{
  "created_at": "2026-02-25T07:48:55.154795+00:00",
  "steps": {
    "binlog_seed_dump_restore": {
      "meta": {
        "args": [],
        "output_tail": [
          "==> Binlog migration: seed target from source snapshot",
          "Preparing target database(s)...",
          "Creating source snapshot with binlog coordinates...",
          "Restoring snapshot to target...",
          "Seed completed.",
          "Coordinates file: artifacts/binlog_coords.env",
          "Dump file: artifacts/binlog_seed_20260225_074906.sql"
        ],
        "returncode": 0,
        "script": "scripts/14_binlog_seed.sh"
      },
      "status": "DONE",
      "updated_at": "2026-02-25T07:49:08.942765+00:00"
    },
    "binlog_start_replication": {
      "meta": {
        "args": [],
        "output_tail": [
          "==> Binlog migration: configure and start replication",
          "Ensuring replication user exists on source...",
          "--------------",
          "GRANT REPLICATION REPLICA, REPLICATION CLIENT ON *.* TO 'repl'@'%'",
          "--------------",
          "",
          "ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REPLICA, REPLICATION CLIENT ON *.* TO 'repl'@'%'' at line 1",
          "Applying replication coordinates: mysql-bin.000009:1893",
          "Replication started."
        ],
        "returncode": 0,
        "script": "scripts/15_binlog_start_replication.sh"
      },
      "status": "DONE",
      "updated_at": "2026-02-25T07:49:10.928479+00:00"
    },
    "binlog_verify_replication": {
      "meta": {
        "args": [],
        "output_tail": [
          "           Read_Master_Log_Pos: 4444",
          "                Relay_Log_File: localhost-relay-bin.000002",
          "                 Relay_Log_Pos: 425",
          "         Relay_Master_Log_File: mysql-bin.000009",
          "              Slave_IO_Running: Yes",
          "             Slave_SQL_Running: No",
          "               Replicate_Do_DB: ",
          "           Replicate_Ignore_DB: ",
          "            Replicate_Do_Table: ",
          "        Replicate_Ignore_Table: ",
          "       Replicate_Wild_Do_Table: ",
          "   Replicate_Wild_Ignore_Table: ",
          "                    Last_Errno: 1524",
          "                    Last_Error: Error 'Plugin 'caching_sha2_password' is not loaded' on query. Default database: ''. Query: 'CREATE USER IF NOT EXISTS 'repl'@'%' IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$EG\u0002fk\u0012R#\\\"h\u0003|fgaF7%-72nOXplAv1vYtKjL96BEYhFs9DQEL210KJlAYwd4hHm8''",
          "                  Skip_Counter: 0",
          "           Exec_Master_Log_Pos: 1893",
          "               Relay_Log_Space: 2920",
          "               Until_Condition: None",
          "                Until_Log_File: ",
          "                 Until_Log_Pos: 0",
          "            Master_SSL_Allowed: No",
          "            Master_SSL_CA_File: ",
          "            Master_SSL_CA_Path: ",
          "               Master_SSL_Cert: ",
          "             Master_SSL_Cipher: ",
          "                Master_SSL_Key: ",
          "         Seconds_Behind_Master: NULL",
          " Master_SSL_Verify_Server_Cert: Yes",
          "                 Last_IO_Errno: 0",
          "                 Last_IO_Error: ",
          "                Last_SQL_Errno: 1524",
          "                Last_SQL_Error: Error 'Plugin 'caching_sha2_password' is not loaded' on query. Default database: ''. Query: 'CREATE USER IF NOT EXISTS 'repl'@'%' IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$EG\u0002fk\u0012R#\\\"h\u0003|fgaF7%-72nOXplAv1vYtKjL96BEYhFs9DQEL210KJlAYwd4hHm8''",
          "   Replicate_Ignore_Server_Ids: ",
          "              Master_Server_Id: 1",
          "                Master_SSL_Crl: ",
          "            Master_SSL_Crlpath: ",
          "                    Using_Gtid: No",
          "                   Gtid_IO_Pos: ",
          "       Replicate_Do_Domain_Ids: ",
          "   Replicate_Ignore_Domain_Ids: ",
          "                 Parallel_Mode: optimistic",
          "                     SQL_Delay: 0",
          "           SQL_Remaining_Delay: NULL",
          "       Slave_SQL_Running_State: ",
          "              Slave_DDL_Groups: 0",
          "Slave_Non_Transactional_Groups: 0",
          "    Slave_Transactional_Groups: 0",
          "          Replicate_Rewrite_DB: ",
          "                Connects_Tried: 1",
          "            Master_Retry_Count: 100000"
        ],
        "returncode": 2,
        "script": "scripts/16_binlog_verify.sh"
      },
      "status": "FAILED",
      "updated_at": "2026-02-25T14:55:39.720527+00:00"
    },
    "precheck": {
      "meta": {
        "args": [],
        "output_tail": [
          "INNODB_TABLESPACES\tACTIVE",
          "INNODB_TABLESTATS\tACTIVE",
          "INNODB_TEMP_TABLE_INFO\tACTIVE",
          "INNODB_TRX\tACTIVE",
          "INNODB_VIRTUAL\tACTIVE",
          "MEMORY\tACTIVE",
          "MRG_MYISAM\tACTIVE",
          "MyISAM\tACTIVE",
          "mysqlx\tACTIVE",
          "mysqlx_cache_cleaner\tACTIVE",
          "mysql_native_password\tACTIVE",
          "ngram\tACTIVE",
          "PERFORMANCE_SCHEMA\tACTIVE",
          "sha256_password\tACTIVE",
          "sha2_cache_cleaner\tACTIVE",
          "TempTable\tACTIVE",
          "",
          "---- functional_indexes ----",
          "(no rows)",
          "",
          "---- functional_defaults ----",
          "(no rows)",
          "",
          "---- invisible_columns ----",
          "(no rows)",
          "",
          "---- check_constraints ----",
          "(no rows)",
          "",
          "---- partial_revokes ----",
          "(no rows)",
          "",
          "---- gis_srid_usage ----",
          "sakila\taddress\tlocation\t0",
          "",
          "---- resource_groups ----",
          "USR_default\tUSER\t1\t0-9\t0",
          "SYS_default\tSYSTEM\t1\t0-9\t0",
          "",
          "---- xplugin_status ----",
          "mysqlx\tACTIVE",
          "",
          "---- fk_name_lengths ----",
          "(no rows)",
          "",
          "---- trigger_order ----",
          "(no rows)",
          "",
          "Precheck complete.",
          "TSV outputs: /mnt/macshare/artifacts/precheck/*.tsv"
        ],
        "returncode": 0,
        "script": "scripts/00_precheck.sh"
      },
      "status": "DONE",
      "updated_at": "2026-02-25T07:49:06.275426+00:00"
    },
    "preflight_binlog": {
      "meta": {
        "args": [],
        "output_tail": [
          "==> Preflight checks (binlog)",
          "Checking source admin connectivity...",
          "Checking target admin connectivity...",
          "Checking source binary logging...",
          "Checking source master status visibility...",
          "Checking source database(s) exist...",
          "Preflight complete."
        ],
        "returncode": 0,
        "script": "scripts/00_preflight_binlog.sh"
      },
      "status": "DONE",
      "updated_at": "2026-02-25T07:48:56.624789+00:00"
    }
  },
  "version": 1
}