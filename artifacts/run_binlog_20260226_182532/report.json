{
  "schema_version": 1,
  "run_id": "20260226T182636Z",
  "mode": "run",
  "config_path": "config/migration.yaml",
  "started_at": "2026-02-26T18:26:36.167103+00:00",
  "finished_at": "2026-02-26T18:27:10.186059+00:00",
  "success": true,
  "message": "Run completed successfully.",
  "source": {},
  "target": {},
  "gates": [],
  "warnings": [],
  "inventory": {},
  "plan": {
    "mode": "binlog",
    "phases": [
      "binlog_prepare",
      "precheck_only",
      "binlog_seed",
      "binlog_replication",
      "binlog_verify"
    ],
    "steps": [
      {
        "id": "preflight_binlog",
        "name": "Preflight checks (binlog)",
        "script": "scripts/00_preflight_binlog.sh",
        "args": []
      },
      {
        "id": "precheck",
        "name": "Precheck source variables and blockers",
        "script": "scripts/00_precheck.sh",
        "args": []
      },
      {
        "id": "binlog_seed_dump_restore",
        "name": "Seed target with dump/restore snapshot",
        "script": "scripts/14_binlog_seed.sh",
        "args": []
      },
      {
        "id": "binlog_start_replication",
        "name": "Configure and start MariaDB replication from MySQL binlog",
        "script": "scripts/15_binlog_start_replication.sh",
        "args": []
      },
      {
        "id": "binlog_verify_replication",
        "name": "Verify replication status and lag",
        "script": "scripts/16_binlog_verify.sh",
        "args": []
      }
    ]
  },
  "steps": [
    {
      "id": "preflight_binlog",
      "name": "Preflight checks (binlog)",
      "status": "DONE",
      "details": {
        "script": "scripts/00_preflight_binlog.sh",
        "args": [],
        "returncode": 0,
        "output_tail": [
          "==> Preflight checks (binlog)",
          "Checking source admin connectivity...",
          "Checking target admin connectivity...",
          "Checking source binary logging...",
          "Checking source binlog format...",
          "Checking source master status visibility...",
          "Checking source database(s) exist...",
          "Preflight complete."
        ]
      }
    },
    {
      "id": "precheck",
      "name": "Precheck source variables and blockers",
      "status": "DONE",
      "details": {
        "script": "scripts/00_precheck.sh",
        "args": [],
        "returncode": 0,
        "output_tail": [
          "INNODB_TABLESPACES\tACTIVE",
          "INNODB_TABLESTATS\tACTIVE",
          "INNODB_TEMP_TABLE_INFO\tACTIVE",
          "INNODB_TRX\tACTIVE",
          "INNODB_VIRTUAL\tACTIVE",
          "MEMORY\tACTIVE",
          "MRG_MYISAM\tACTIVE",
          "MyISAM\tACTIVE",
          "mysqlx\tACTIVE",
          "mysqlx_cache_cleaner\tACTIVE",
          "mysql_native_password\tACTIVE",
          "ngram\tACTIVE",
          "PERFORMANCE_SCHEMA\tACTIVE",
          "sha256_password\tACTIVE",
          "sha2_cache_cleaner\tACTIVE",
          "TempTable\tACTIVE",
          "",
          "---- functional_indexes ----",
          "(no rows)",
          "",
          "---- functional_defaults ----",
          "(no rows)",
          "",
          "---- invisible_columns ----",
          "(no rows)",
          "",
          "---- check_constraints ----",
          "(no rows)",
          "",
          "---- partial_revokes ----",
          "(no rows)",
          "",
          "---- gis_srid_usage ----",
          "sakila\taddress\tlocation\t0",
          "",
          "---- resource_groups ----",
          "USR_default\tUSER\t1\t0-9\t0",
          "SYS_default\tSYSTEM\t1\t0-9\t0",
          "",
          "---- xplugin_status ----",
          "mysqlx\tACTIVE",
          "",
          "---- fk_name_lengths ----",
          "(no rows)",
          "",
          "---- trigger_order ----",
          "(no rows)",
          "",
          "Precheck complete.",
          "TSV outputs: /mnt/macshare/artifacts/precheck/*.tsv"
        ]
      }
    },
    {
      "id": "binlog_seed_dump_restore",
      "name": "Seed target with dump/restore snapshot",
      "status": "DONE",
      "details": {
        "script": "scripts/14_binlog_seed.sh",
        "args": [],
        "returncode": 0,
        "output_tail": [
          "==> Binlog migration: seed target from source snapshot",
          "Preparing target database(s)...",
          "Creating source snapshot with binlog coordinates...",
          "Restoring snapshot to target...",
          "Seed completed.",
          "Coordinates file: artifacts/binlog_coords.env",
          "Dump file: artifacts/binlog_seed_20260226_182705.sql"
        ]
      }
    },
    {
      "id": "binlog_start_replication",
      "name": "Configure and start MariaDB replication from MySQL binlog",
      "status": "DONE",
      "details": {
        "script": "scripts/15_binlog_start_replication.sh",
        "args": [],
        "returncode": 0,
        "output_tail": [
          "==> Binlog migration: configure and start replication",
          "Ensuring replication user exists on source...",
          "Applying replication coordinates: mysql-bin.000012:374",
          "Replication started."
        ]
      }
    },
    {
      "id": "binlog_verify_replication",
      "name": "Verify replication status and lag",
      "status": "DONE",
      "details": {
        "script": "scripts/16_binlog_verify.sh",
        "args": [],
        "returncode": 0,
        "output_tail": [
          "==> Binlog migration: verify replication",
          "IO running: Yes",
          "SQL running: Yes",
          "Seconds behind master: 0",
          "Replication verify passed."
        ]
      }
    }
  ]
}